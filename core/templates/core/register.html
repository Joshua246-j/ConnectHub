{% extends "core/base_auth.html" %}
{% block content %}

<div class="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4">
  <div class="max-w-md w-full bg-white p-8 rounded-xl shadow-lg space-y-6">

    <h1 class="text-4xl font-bold text-blue-600 text-center">Connect Hub</h1>
    <h2 class="text-2xl font-semibold text-center text-gray-700">Create your account</h2>

    {% if form.errors %}
      <div class="bg-red-100 text-red-700 p-3 rounded-md">
        <ul class="list-disc list-inside text-sm">
          {% for field in form %}
            {% for error in field.errors %}
              <li>{{ error }}</li>
            {% endfor %}
          {% endfor %}
          {% for error in form.non_field_errors %}
            <li>{{ error }}</li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    <form method="post" enctype="multipart/form-data" class="space-y-4">
      {% csrf_token %}

      <!-- Username -->
      <div>
        <label for="{{ form.username.id_for_label }}" class="block text-sm font-medium text-gray-700">Username</label>
        <input type="text" name="{{ form.username.html_name }}" id="{{ form.username.id_for_label }}"
               value="{{ form.username.value }}" 
               class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
      </div>

      <!-- Email -->
      <div>
        <label for="{{ form.email.id_for_label }}" class="block text-sm font-medium text-gray-700">Email</label>
        <input type="email" name="{{ form.email.html_name }}" id="{{ form.email.id_for_label }}"
               value="{{ form.email.value }}" 
               class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
      </div>

      <!-- Password -->
      <div>
        <label for="{{ form.password.id_for_label }}" class="block text-sm font-medium text-gray-700">Password</label>
        <input type="password" name="{{ form.password.html_name }}" id="{{ form.password.id_for_label }}" 
               class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
      </div>

      <!-- Confirm Password -->
      <div>
        <label for="{{ form.password2.id_for_label }}" class="block text-sm font-medium text-gray-700">Confirm Password</label>
        <input type="password" name="{{ form.password2.html_name }}" id="{{ form.password2.id_for_label }}" 
               class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
      </div>

      <!-- Age -->
      <div>
        <label for="{{ form.age.id_for_label }}" class="block text-sm font-medium text-gray-700">Age</label>
        <input type="number" name="{{ form.age.html_name }}" id="{{ form.age.id_for_label }}"
               value="{{ form.age.value }}" 
               class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
      </div>

      <!-- Gender -->
      <div>
        <label for="{{ form.gender.id_for_label }}" class="block text-sm font-medium text-gray-700">Gender</label>
        <select name="{{ form.gender.html_name }}" id="{{ form.gender.id_for_label }}"
                class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
          <option value="">Select Gender</option>
          <option value="Male" {% if form.gender.value == "Male" %}selected{% endif %}>Male</option>
          <option value="Female" {% if form.gender.value == "Female" %}selected{% endif %}>Female</option>
          <option value="Other" {% if form.gender.value == "Other" %}selected{% endif %}>Other</option>
        </select>
      </div>

      <!-- Profile Picture -->
      <div>
        <label for="{{ form.profile_pic.id_for_label }}" class="block text-sm font-medium text-gray-700">Profile Picture</label>
        <input type="file" name="{{ form.profile_pic.html_name }}" id="{{ form.profile_pic.id_for_label }}" 
               class="mt-1 block w-full text-gray-700">
      </div>

      <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition duration-200">
        Sign Up
      </button>

    </form>

    <p class="text-center text-sm text-gray-500 mt-4">
      Already have an account?
      <a href="{% url 'login' %}" class="text-blue-600 hover:underline">Log in</a>
    </p>

  </div>
</div>

{% endblock %}
